<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loader ASTR</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- SPLASH SCREEN -->
    <div id="splash-screen">
        <div class="loader-container">
            <div class="status-text dots">ЗАГРУЗКА</div>
            <div class="progress-track">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- SIDEBAR -->
        <div class="sidebar">
            <div class="logo-area">
                <!-- Placeholder Logo -->
                <span class="material-symbols-outlined" style="font-size: 32px; color: var(--md-sys-color-primary);">rocket_launch</span>
                <h1>ASTR LOADER</h1>
            </div>

            <div class="nav-menu">
                <!-- Добавлены ID для кнопок -->
                <button class="nav-item active" id="nav-catalog">
                    <span class="material-symbols-outlined">grid_view</span>
                    Каталог
                </button>
                
                <!-- НОВАЯ ВКЛАДКА -->
                <button class="nav-item" id="nav-youtube">
                    <span class="material-symbols-outlined">smart_display</span>
                    YouTube Mods
                </button>

                <button class="nav-item" id="nav-settings">
                    <span class="material-symbols-outlined">settings</span>
                    Настройки
                </button>
            </div>

            <div class="sidebar-footer">
                v1.0.0 | by Refuzo
            </div>
        </div>

        <!-- MAIN CONTENT -->
        <div class="main-content">
            <div class="top-bar">
                <div class="status-indicator">
                    <div id="ping-dot" class="status-dot"></div>
                    <span id="ping-text">Подключение...</span>
                </div>
                <div class="top-bar-actions">
                    <div class="social-links">
                        <a href="#" class="social-btn telegram-btn">
                            <span class="material-symbols-outlined">send</span>
                        </a>
                        <a href="#" class="social-btn telegram-btn">
                            <span class="material-symbols-outlined">group</span>
                        </a>
                    </div>
                    <div class="divider-vertical"></div>
                    <button class="social-btn" id="btn-check-updates" title="Проверить обновления">
                        <span class="material-symbols-outlined">sync</span>
                    </button>
                </div>
            </div>

            <div id="content-area">
                <!-- Content injected by JS -->
            </div>
        </div>
    </div>

    <!-- MODAL INSTALL -->
    <div id="progress-modal" class="modal-overlay hidden">
        <div class="modal-window">
            <div class="modal-header">
                <h3 id="modal-title">Установка...</h3>
                <button id="modal-close-btn" class="close-btn">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Install View -->
                <div id="install-view">
                    <div class="progress-info">
                        <span id="modal-status">Подготовка...</span>
                        <span id="progress-percent">0%</span>
                    </div>
                    <div class="progress-track-modal">
                        <div id="progress-bar" class="progress-fill-modal"></div>
                    </div>
                </div>

                <!-- Success View -->
                <div id="success-view" class="view-hidden state-view">
                    <span class="material-symbols-outlined icon-success">check_circle</span>
                    <p>Успешно установлено</p>
                </div>

                <!-- Error View -->
                <div id="error-view" class="view-hidden state-view">
                    <span class="material-symbols-outlined icon-error">error</span>
                    <p id="error-message">Что-то пошло не так</p>
                </div>
            </div>
        </div>
    </div>

    <!-- REPAIR MODAL -->
    <div id="repair-modal" class="modal-overlay hidden">
        <div class="modal-window">
            <div class="modal-header">
                <h3>Управление модами</h3>
                <button id="repair-close-btn" class="close-btn">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom:16px; color:var(--md-sys-color-outline);">Выберите мод для удаления или починки:</p>
                <div id="repair-list" class="repair-list"></div>
            </div>
        </div>
    </div>

    <!-- INFO MODAL -->
    <div id="info-modal" class="modal-overlay hidden">
        <div class="modal-window small">
            <div class="modal-header">
                <h3 id="info-modal-title">Информация</h3>
                <button id="info-close-btn" class="close-btn">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="info-modal-desc" style="color:#ccc; line-height:1.5; margin-bottom:20px;"></p>
                <button id="info-modal-action" class="install-btn">Понятно</button>
            </div>
        </div>
    </div>

    <!-- UPDATE MODAL -->
    <div id="update-modal" class="modal-overlay hidden">
        <div class="modal-window">
            <div class="modal-header">
                <h3>Доступно обновление</h3>
            </div>
            <div class="modal-body">
                <p style="margin-bottom:10px; color:#fff;">Новая версия: <span id="update-version" style="color:var(--md-sys-color-primary); font-weight:700;"></span></p>
                <p style="margin-bottom:10px; color:#aaa; font-size:13px;">Размер: <span id="update-size"></span></p>
                <div class="changelog-box">
                    <p id="update-changelog" style="white-space: pre-wrap; font-size:13px; color:#ddd;"></p>
                </div>
                <div style="display:flex; gap:10px; margin-top:20px;">
                    <button id="btn-start-update" class="install-btn">Обновить</button>
                    <button id="btn-skip-update" class="reset-theme-btn">Позже</button>
                </div>
            </div>
        </div>
    </div>

    <!-- GEO MODAL -->
    <div id="geo-modal" class="modal-overlay hidden" style="z-index: 9999;">
        <div class="modal-window">
            <div class="modal-header">
                <h3 style="color:#ff5252;">Доступ ограничен</h3>
            </div>
            <div class="modal-body">
                <p style="color:#ccc; line-height:1.5;">Доступ к сервисам ASTR ограничен.</p>
                <p style="color:#ccc; line-height:1.5; margin-top:8px;">Пожалуйста, включите VPN (RU) для продолжения работы с лаунчером.</p>
                <button id="geo-exit-btn" class="install-btn" style="margin-top:20px; background:#ff5252; color:#fff;">Закрыть</button>
            </div>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast-notification" class="toast hidden"></div>

    <!-- FAB REPAIR -->
    <div id="global-repair-btn" class="fab-repair" title="Управление установленными">
        <span class="material-symbols-outlined">build</span>
    </div>

    <script src="script.js"></script>
</body>
</html>
